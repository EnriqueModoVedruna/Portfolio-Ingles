---
import * as CONT from "../pages/contenido.js";
import Layout from "../layouts/LayoutDesplegable.astro";
import Card from "./Cards.astro";
---

<ul>

  <!-- A todos los layouts les he puesto un id para que la barra de navegación del header los detecte y me permita navegar entre secciones -->
  <section id="estudios">
    <Layout title={"Studies"}>
      {
        CONT.estudios.map((item) => {
          return (
            <Card
              tiempo={item.año}
              nombre={item.titulo}
              descripcion={item.datos}
              instituto={item.instituto}
            />
          );
        })
      }
    </Layout>
  </section>

  <section id="skills">
    <Layout title={"Skills"}>
      {
        CONT.skills.map((item) => {
          return (
            <Card
              skill={item.skill}
              nivel={item.nivel}
              image={item.imagen}
            />
          );
        })
      }
    </Layout>
  </section>

  <section id="trabajos">
    <Layout title={"Jobs"}>
      {
        CONT.trabajos.map((item) => {
          return (
            <Card
              tiempo={item.tiempo}
              nombre={item.nombre}
              descripcion={item.descripcion}
              image={item.imagen}
            />
          );
        })
      }
    </Layout>
  </section>

   <section id="proyectos">
    <Layout title={"Projects"}>
      {
        // Para el de proyectos he tenido que utilizar el fetch proyectos para luego usar el apartado de proyectos, que como estaba vacio he tenido que indicar que era cada variable que tenia en su interior
        CONT.fetchProyectos().then(proyectos => {
          return proyectos.map((item: { imagen: string, nombre: string, descripcion: string, enlace: string }) => {
            return (
              <Card
                imagen={item.imagen}
                nombre={item.nombre}
                descripcion={item.descripcion}
                url={"#"}
                enlace={item.enlace}
              />
            );
          });
        })
      }
    </Layout>
  </section>

  <section id="referencias">
    <Layout title={"References"}>
      {
        CONT.referencias.map((item) => {
          return (
            <Card
              imagen={item.foto}
              name={item.name}
              descripcion={item.descripcion}
              oficio={item.oficio}
              url={item.url}
              enlace={item.linkedin}
            />
          );
        })
      }
    </Layout>
  </section>
</ul>
